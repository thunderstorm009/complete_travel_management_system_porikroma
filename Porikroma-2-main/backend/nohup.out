
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-10-04T13:53:58.237+06:00  INFO 58779 --- [           main] com.porikroma.PorikromaApplication       : Starting PorikromaApplication v0.0.1-SNAPSHOT using Java 21.0.4 with PID 58779 (/home/md-huzaifa-islam/work/porikroma/backend/target/porikroma-backend-0.0.1-SNAPSHOT.jar started by md-huzaifa-islam in /home/md-huzaifa-islam/work/porikroma/backend)
2025-10-04T13:53:58.238+06:00 DEBUG 58779 --- [           main] com.porikroma.PorikromaApplication       : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-10-04T13:53:58.246+06:00  INFO 58779 --- [           main] com.porikroma.PorikromaApplication       : No active profile set, falling back to 1 default profile: "default"
2025-10-04T13:54:00.282+06:00  INFO 58779 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-04T13:54:00.290+06:00  INFO 58779 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-04T13:54:00.291+06:00  INFO 58779 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-04T13:54:00.350+06:00  INFO 58779 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-04T13:54:00.351+06:00  INFO 58779 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2048 ms
2025-10-04T13:54:00.555+06:00 DEBUG 58779 --- [           main] c.p.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2025-10-04T13:54:00.734+06:00  INFO 58779 --- [           main] c.c.socketio.SocketIOServer              : Session store / pubsub factory used: MemoryStoreFactory (local session store only)
Socket.IO server started on port 9092
2025-10-04T13:54:00.876+06:00  INFO 58779 --- [ntLoopGroup-2-1] c.c.socketio.SocketIOServer              : SocketIO server started at port: 9092
2025-10-04T13:54:01.876+06:00  INFO 58779 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-04T13:54:01.985+06:00  INFO 58779 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7996d0d4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fcf9525, org.springframework.security.web.context.SecurityContextHolderFilter@51f01535, org.springframework.security.web.header.HeaderWriterFilter@1c72189f, org.springframework.web.filter.CorsFilter@300bb303, org.springframework.security.web.authentication.logout.LogoutFilter@71f0806b, com.porikroma.security.JwtAuthenticationFilter@144ab983, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@467ef400, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13fe5bb7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4243341e, org.springframework.security.web.session.SessionManagementFilter@5c25d0d1, org.springframework.security.web.access.ExceptionTranslationFilter@56835f2f, org.springframework.security.web.access.intercept.AuthorizationFilter@44864536]
2025-10-04T13:54:02.524+06:00  INFO 58779 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-10-04T13:54:02.545+06:00  INFO 58779 --- [           main] com.porikroma.PorikromaApplication       : Started PorikromaApplication in 4.735 seconds (process running for 5.136)
2025-10-04T13:54:27.060+06:00  INFO 58779 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-04T13:54:27.060+06:00  INFO 58779 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-04T13:54:27.061+06:00  INFO 58779 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-10-04T13:54:27.141+06:00  WARN 58779 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/notifications' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-04T13:54:27.175+06:00 DEBUG 58779 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.NotificationService.getUserNotifications]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T13:54:27.175+06:00  INFO 58779 --- [nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-04T13:54:27.312+06:00  INFO 58779 --- [nio-8080-exec-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@38f9012b
2025-10-04T13:54:27.317+06:00  INFO 58779 --- [nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-04T13:54:27.323+06:00 DEBUG 58779 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1558510688 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f9012b] for JDBC transaction
2025-10-04T13:54:27.325+06:00 DEBUG 58779 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1558510688 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f9012b] to manual commit
2025-10-04T13:54:27.327+06:00 DEBUG 58779 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T13:54:27.328+06:00 DEBUG 58779 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM notifications WHERE user_id = ? ORDER BY created_at DESC]
2025-10-04T13:54:27.376+06:00 DEBUG 58779 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction rollback
2025-10-04T13:54:27.377+06:00 DEBUG 58779 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Rolling back JDBC transaction on Connection [HikariProxyConnection@1558510688 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f9012b]
2025-10-04T13:54:27.378+06:00 DEBUG 58779 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1558510688 wrapping com.mysql.cj.jdbc.ConnectionImpl@38f9012b] after transaction

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-10-04T13:55:09.923+06:00  INFO 59389 --- [           main] com.porikroma.PorikromaApplication       : Starting PorikromaApplication v0.0.1-SNAPSHOT using Java 21.0.4 with PID 59389 (/home/md-huzaifa-islam/work/porikroma/backend/target/porikroma-backend-0.0.1-SNAPSHOT.jar started by md-huzaifa-islam in /home/md-huzaifa-islam/work/porikroma/backend)
2025-10-04T13:55:09.926+06:00 DEBUG 59389 --- [           main] com.porikroma.PorikromaApplication       : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-10-04T13:55:09.928+06:00  INFO 59389 --- [           main] com.porikroma.PorikromaApplication       : No active profile set, falling back to 1 default profile: "default"
2025-10-04T13:55:10.082+06:00  INFO 58779 --- [ionShutdownHook] c.c.socketio.SocketIOServer              : SocketIO server stopped
2025-10-04T13:55:10.083+06:00  INFO 58779 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-10-04T13:55:10.091+06:00  INFO 58779 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-10-04T13:55:12.121+06:00  INFO 59389 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-04T13:55:12.147+06:00  INFO 59389 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-04T13:55:12.147+06:00  INFO 59389 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-04T13:55:12.216+06:00  INFO 59389 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-04T13:55:12.218+06:00  INFO 59389 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2210 ms
2025-10-04T13:55:12.466+06:00 DEBUG 59389 --- [           main] c.p.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2025-10-04T13:55:12.645+06:00  INFO 59389 --- [           main] c.c.socketio.SocketIOServer              : Session store / pubsub factory used: MemoryStoreFactory (local session store only)
Socket.IO server started on port 9092
2025-10-04T13:55:12.789+06:00  INFO 59389 --- [ntLoopGroup-2-1] c.c.socketio.SocketIOServer              : SocketIO server started at port: 9092
2025-10-04T13:55:13.717+06:00  INFO 59389 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-04T13:55:13.799+06:00  INFO 59389 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@455f4483, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6e239337, org.springframework.security.web.context.SecurityContextHolderFilter@22c8ee48, org.springframework.security.web.header.HeaderWriterFilter@56835f2f, org.springframework.web.filter.CorsFilter@7996d0d4, org.springframework.security.web.authentication.logout.LogoutFilter@579846cc, com.porikroma.security.JwtAuthenticationFilter@6fc0bbc6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51f01535, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2321e482, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fcf9525, org.springframework.security.web.session.SessionManagementFilter@27afbf14, org.springframework.security.web.access.ExceptionTranslationFilter@7bb4ed71, org.springframework.security.web.access.intercept.AuthorizationFilter@1657b017]
2025-10-04T13:55:14.378+06:00  INFO 59389 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-10-04T13:55:14.395+06:00  INFO 59389 --- [           main] com.porikroma.PorikromaApplication       : Started PorikromaApplication in 4.901 seconds (process running for 5.345)
2025-10-04T13:55:39.155+06:00  INFO 59389 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-04T13:55:39.156+06:00  INFO 59389 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-04T13:55:39.156+06:00  INFO 59389 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-10-04T13:55:39.179+06:00  WARN 59389 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/notifications' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-10-04T13:58:13.604+06:00  INFO 60494 --- [           main] com.porikroma.PorikromaApplication       : Starting PorikromaApplication v0.0.1-SNAPSHOT using Java 21.0.4 with PID 60494 (/home/md-huzaifa-islam/work/porikroma/backend/target/porikroma-backend-0.0.1-SNAPSHOT.jar started by md-huzaifa-islam in /home/md-huzaifa-islam/work/porikroma/backend)
2025-10-04T13:58:13.606+06:00 DEBUG 60494 --- [           main] com.porikroma.PorikromaApplication       : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-10-04T13:58:13.607+06:00  INFO 60494 --- [           main] com.porikroma.PorikromaApplication       : No active profile set, falling back to 1 default profile: "default"
2025-10-04T13:58:13.806+06:00  INFO 59389 --- [ionShutdownHook] c.c.socketio.SocketIOServer              : SocketIO server stopped
2025-10-04T13:58:15.664+06:00  INFO 60494 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-04T13:58:15.680+06:00  INFO 60494 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-04T13:58:15.680+06:00  INFO 60494 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-04T13:58:15.740+06:00  INFO 60494 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-04T13:58:15.741+06:00  INFO 60494 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2053 ms
2025-10-04T13:58:15.922+06:00 DEBUG 60494 --- [           main] c.p.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2025-10-04T13:58:16.093+06:00  INFO 60494 --- [           main] c.c.socketio.SocketIOServer              : Session store / pubsub factory used: MemoryStoreFactory (local session store only)
Socket.IO server started on port 9092
2025-10-04T13:58:16.262+06:00  INFO 60494 --- [ntLoopGroup-2-1] c.c.socketio.SocketIOServer              : SocketIO server started at port: 9092
2025-10-04T13:58:16.859+06:00  INFO 60494 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-04T13:58:16.920+06:00  INFO 60494 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@793cef95, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38f502fc, org.springframework.security.web.context.SecurityContextHolderFilter@44bbb7c6, org.springframework.security.web.header.HeaderWriterFilter@69e2fe3b, org.springframework.web.filter.CorsFilter@67c21bf, org.springframework.security.web.authentication.logout.LogoutFilter@368424db, com.porikroma.security.JwtAuthenticationFilter@38291795, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3303e89e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cec590c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67afe909, org.springframework.security.web.session.SessionManagementFilter@2a19a0fe, org.springframework.security.web.access.ExceptionTranslationFilter@598657cd, org.springframework.security.web.access.intercept.AuthorizationFilter@f59da34]
2025-10-04T13:58:17.326+06:00  INFO 60494 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-10-04T13:58:17.341+06:00  INFO 60494 --- [           main] com.porikroma.PorikromaApplication       : Started PorikromaApplication in 4.163 seconds (process running for 4.557)
2025-10-04T13:58:27.388+06:00  INFO 60494 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-04T13:58:27.389+06:00  INFO 60494 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-04T13:58:27.392+06:00  INFO 60494 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-10-04T13:58:27.427+06:00  WARN 60494 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/notifications' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-04T13:58:40.067+06:00 DEBUG 60494 --- [nio-8080-exec-2] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T13:58:40.068+06:00  INFO 60494 --- [nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-04T13:58:40.215+06:00  INFO 60494 --- [nio-8080-exec-2] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1748f955
2025-10-04T13:58:40.218+06:00  INFO 60494 --- [nio-8080-exec-2] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-04T13:58:40.235+06:00 DEBUG 60494 --- [nio-8080-exec-2] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-10-04T14:07:25.041+06:00  INFO 64537 --- [           main] com.porikroma.PorikromaApplication       : Starting PorikromaApplication v0.0.1-SNAPSHOT using Java 21.0.4 with PID 64537 (/home/md-huzaifa-islam/work/porikroma/backend/target/porikroma-backend-0.0.1-SNAPSHOT.jar started by md-huzaifa-islam in /home/md-huzaifa-islam/work/porikroma/backend)
2025-10-04T14:07:25.043+06:00 DEBUG 64537 --- [           main] com.porikroma.PorikromaApplication       : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-10-04T14:07:25.044+06:00  INFO 64537 --- [           main] com.porikroma.PorikromaApplication       : No active profile set, falling back to 1 default profile: "default"
2025-10-04T14:07:26.925+06:00  INFO 64537 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-10-04T14:07:26.940+06:00  INFO 64537 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-10-04T14:07:26.941+06:00  INFO 64537 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.16]
2025-10-04T14:07:26.990+06:00  INFO 64537 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-10-04T14:07:26.991+06:00  INFO 64537 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1862 ms
2025-10-04T14:07:27.233+06:00 DEBUG 64537 --- [           main] c.p.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2025-10-04T14:07:27.507+06:00  INFO 64537 --- [           main] c.c.socketio.SocketIOServer              : Session store / pubsub factory used: MemoryStoreFactory (local session store only)
Socket.IO server started on port 9092
2025-10-04T14:07:27.689+06:00  INFO 64537 --- [ntLoopGroup-2-1] c.c.socketio.SocketIOServer              : SocketIO server started at port: 9092
2025-10-04T14:07:28.475+06:00  INFO 64537 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2025-10-04T14:07:28.535+06:00  INFO 64537 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@49631cfb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77b71c9, org.springframework.security.web.context.SecurityContextHolderFilter@2964511, org.springframework.security.web.header.HeaderWriterFilter@49190ed6, org.springframework.web.filter.CorsFilter@6133e20b, org.springframework.security.web.authentication.logout.LogoutFilter@3b021664, com.porikroma.security.JwtAuthenticationFilter@43cb5f38, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ea66c33, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59b447a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30ffb2a6, org.springframework.security.web.session.SessionManagementFilter@27896d3b, org.springframework.security.web.access.ExceptionTranslationFilter@5fb07347, org.springframework.security.web.access.intercept.AuthorizationFilter@74c7522c]
2025-10-04T14:07:28.904+06:00  INFO 64537 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path ''
2025-10-04T14:07:28.915+06:00  INFO 64537 --- [           main] com.porikroma.PorikromaApplication       : Started PorikromaApplication in 4.3 seconds (process running for 4.739)
2025-10-04T14:08:00.186+06:00  INFO 64537 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-10-04T14:08:00.187+06:00  INFO 64537 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-10-04T14:08:00.191+06:00  INFO 64537 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-10-04T14:08:00.230+06:00  WARN 64537 --- [nio-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/notifications' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2025-10-04T14:09:08.118+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T14:09:08.120+06:00  INFO 64537 --- [nio-8080-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-10-04T14:09:08.261+06:00  INFO 64537 --- [nio-8080-exec-4] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@53fd9f81
2025-10-04T14:09:08.263+06:00  INFO 64537 --- [nio-8080-exec-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-10-04T14:09:08.277+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:01:57.244+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:01:57.246+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE email = ? AND is_deleted = FALSE]
2025-10-04T15:01:57.246+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:02:12.203+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.NotificationService.getUserNotifications]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:02:12.211+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@663134071 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:02:12.218+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@663134071 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:02:12.219+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:02:12.220+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM user_notifications WHERE user_id = ? ORDER BY created_at DESC]
2025-10-04T15:02:12.227+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:02:12.230+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@663134071 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:02:12.234+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@663134071 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:05:20.562+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:05:20.563+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:05:20.563+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:05:20.618+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:05:20.618+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:05:20.618+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:06:07.488+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:06:07.489+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:06:07.490+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:06:07.558+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:06:07.560+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:06:07.561+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:06:13.813+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.NotificationService.getUserNotifications]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:06:13.815+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@2127452900 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:06:13.817+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@2127452900 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:06:13.822+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:06:13.823+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM user_notifications WHERE user_id = ? ORDER BY created_at DESC]
2025-10-04T15:06:13.838+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:06:13.839+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@2127452900 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:06:13.846+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@2127452900 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:06:18.777+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:06:18.778+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:06:18.779+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:06:18.833+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:06:18.834+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:06:18.834+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:06:27.435+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:06:27.437+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:06:27.442+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:06:27.523+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:06:27.524+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:06:27.524+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:08:32.791+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:08:32.793+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:08:32.794+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:08:32.837+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:08:32.838+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:08:32.838+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:08:36.971+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:08:36.972+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:08:36.972+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:08:37.007+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:08:37.008+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:08:37.008+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:08:37.063+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.NotificationService.getUserNotifications]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:08:37.063+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@328856928 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:08:37.063+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@328856928 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:08:37.068+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:08:37.069+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM user_notifications WHERE user_id = ? ORDER BY created_at DESC]
2025-10-04T15:08:37.079+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:08:37.079+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@328856928 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:08:37.081+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@328856928 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:08:46.934+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:08:46.934+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:08:46.935+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:08:46.996+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:08:46.997+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:08:46.997+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:08:51.367+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.getUserTrips]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:08:51.370+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1601781119 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:08:51.371+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1601781119 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:08:51.376+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:08:51.377+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT DISTINCT t.* FROM trips t
INNER JOIN trip_members tm ON t.trip_id = tm.trip_id
WHERE tm.user_id = ? AND tm.invitation_status = 'ACCEPTED'
ORDER BY t.created_at DESC
]
2025-10-04T15:08:51.412+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:08:51.413+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1601781119 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:08:51.417+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1601781119 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:08:53.034+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.NotificationService.getUserNotifications]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:08:53.037+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1184020678 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:08:53.038+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1184020678 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:08:53.039+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:08:53.040+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM user_notifications WHERE user_id = ? ORDER BY created_at DESC]
2025-10-04T15:08:53.046+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:08:53.047+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1184020678 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:08:53.050+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1184020678 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:08:55.987+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:08:55.988+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:08:55.988+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:08:56.035+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:08:56.036+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:08:56.036+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:09:00.804+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:09:00.805+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:09:00.805+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:09:00.844+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:09:00.845+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:09:00.846+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:09:00.926+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.NotificationService.getUserNotifications]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:09:00.926+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1047051874 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:09:00.926+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1047051874 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:09:00.928+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:09:00.929+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM user_notifications WHERE user_id = ? ORDER BY created_at DESC]
2025-10-04T15:09:00.935+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:09:00.936+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1047051874 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:09:00.939+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1047051874 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:09:49.429+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.NotificationService.markAllAsRead]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:09:49.430+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1592229938 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:09:49.431+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1592229938 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:09:49.435+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-10-04T15:09:49.437+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [UPDATE user_notifications SET is_read = true, read_at = ? WHERE user_id = ? AND is_read = false]
2025-10-04T15:09:49.463+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:09:49.463+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1592229938 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:09:49.469+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1592229938 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:09:49.520+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.NotificationService.getUserNotifications]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:09:49.520+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@546866836 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:09:49.521+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@546866836 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:09:49.523+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:09:49.523+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM user_notifications WHERE user_id = ? ORDER BY created_at DESC]
2025-10-04T15:09:49.527+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:09:49.528+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@546866836 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:09:49.529+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@546866836 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:09:56.108+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:09:56.109+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:09:56.109+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:09:56.142+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:09:56.143+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:09:56.143+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:09:56.225+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.NotificationService.getUserNotifications]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:09:56.225+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@819302480 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:09:56.225+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@819302480 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:09:56.227+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:09:56.228+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM user_notifications WHERE user_id = ? ORDER BY created_at DESC]
2025-10-04T15:09:56.231+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:09:56.232+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@819302480 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:09:56.234+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@819302480 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:10:12.374+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.getUserTrips]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:10:12.375+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1063460596 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:10:12.375+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1063460596 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:10:12.376+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:10:12.377+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT DISTINCT t.* FROM trips t
INNER JOIN trip_members tm ON t.trip_id = tm.trip_id
WHERE tm.user_id = ? AND tm.invitation_status = 'ACCEPTED'
ORDER BY t.created_at DESC
]
2025-10-04T15:10:12.382+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:10:12.383+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1063460596 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:10:12.384+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1063460596 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:10:47.221+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:10:47.223+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:11:18.832+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:11:18.833+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:12:16.215+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:12:16.215+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE email = ? AND is_deleted = FALSE]
2025-10-04T15:12:16.215+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:12:35.805+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.NotificationService.getUserNotifications]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:12:35.805+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1572403446 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:12:35.806+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1572403446 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:12:35.806+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:12:35.807+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM user_notifications WHERE user_id = ? ORDER BY created_at DESC]
2025-10-04T15:12:35.809+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:12:35.809+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1572403446 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:12:35.809+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1572403446 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:12:52.575+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.getUserTrips]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:12:52.576+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1216063499 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:12:52.576+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1216063499 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:12:52.577+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:12:52.577+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT DISTINCT t.* FROM trips t
INNER JOIN trip_members tm ON t.trip_id = tm.trip_id
WHERE tm.user_id = ? AND tm.invitation_status = 'ACCEPTED'
ORDER BY t.created_at DESC
]
2025-10-04T15:12:52.580+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:12:52.580+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1216063499 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:12:52.581+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1216063499 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:13:27.734+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.inviteUserToTrip]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:13:27.736+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@237245941 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:13:27.736+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@237245941 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:13:27.738+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:13:27.739+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT tm.*,
       u.first_name as user_first_name,
       u.last_name as user_last_name,
       u.email as user_email,
       u.profile_picture_url as user_profile_picture,
       inv.first_name as inviter_first_name,
       inv.last_name as inviter_last_name
FROM trip_members tm
LEFT JOIN users u ON tm.user_id = u.user_id
LEFT JOIN users inv ON tm.invited_by = inv.user_id
WHERE tm.trip_id = ?
ORDER BY tm.invited_at
]
2025-10-04T15:13:27.746+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2025-10-04T15:13:27.748+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2025-10-04T15:13:27.768+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:13:27.768+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT t.*,
       d.destination_name as destination_name,
       u.first_name as creator_first_name,
       u.last_name as creator_last_name
FROM trips t
LEFT JOIN destinations d ON t.destination_id = d.destination_id
LEFT JOIN users u ON t.creator_user_id = u.user_id
WHERE t.trip_id = ?
]
2025-10-04T15:13:27.775+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:13:27.775+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT tm.*,
       u.first_name as user_first_name,
       u.last_name as user_last_name,
       u.email as user_email,
       u.profile_picture_url as user_profile_picture,
       inv.first_name as inviter_first_name,
       inv.last_name as inviter_last_name
FROM trip_members tm
LEFT JOIN users u ON tm.user_id = u.user_id
LEFT JOIN users inv ON tm.invited_by = inv.user_id
WHERE tm.trip_id = ?
ORDER BY tm.invited_at
]
2025-10-04T15:13:27.777+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:13:27.777+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT sd.*, ts.estimated_cost, ts.status, ts.notes, d.destination_name
FROM trip_subdestinations ts
JOIN sub_destinations sd ON ts.sub_destination_id = sd.sub_destination_id
JOIN destinations d ON sd.destination_id = d.destination_id
WHERE ts.trip_id = ?
ORDER BY sd.sub_destination_name
]
2025-10-04T15:13:27.787+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:13:27.788+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT a.*, ta.check_in_date, ta.check_out_date, ta.number_of_rooms,
       ta.room_type, ta.total_cost, ta.booking_status, ta.booking_reference,
       ta.special_requests, d.destination_name
FROM trip_accommodations ta
JOIN accommodations a ON ta.accommodation_id = a.accommodation_id
JOIN destinations d ON a.destination_id = d.destination_id
WHERE ta.trip_id = ?
ORDER BY a.accommodation_name
]
2025-10-04T15:13:27.799+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:13:27.800+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT t.*, tt.journey_type, tt.travel_date, tt.departure_time as trip_departure_time,
       tt.arrival_time as trip_arrival_time, tt.number_of_passengers, tt.seat_preference,
       tt.total_cost, tt.booking_status, tt.booking_reference, d.destination_name
FROM trip_transport tt
JOIN transport t ON tt.transport_id = t.transport_id
JOIN destinations d ON t.destination_id = d.destination_id
WHERE tt.trip_id = ?
ORDER BY t.transport_type, t.operator_name
]
2025-10-04T15:13:27.812+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:13:27.812+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM trip_expenses
WHERE trip_id = ?
ORDER BY expense_date DESC, created_at DESC
]
2025-10-04T15:13:27.824+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:13:27.824+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT COUNT(*) FROM trip_members WHERE trip_id = ?]
2025-10-04T15:13:27.826+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:13:27.826+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT
    COALESCE(SUM(te.amount), 0) +
    COALESCE((SELECT SUM(CASE
        WHEN ta.total_cost IS NOT NULL THEN ta.total_cost
        ELSE a.price_per_night * GREATEST(ta.number_of_rooms, 1) * 7
    END) FROM trip_accommodations ta
    JOIN accommodations a ON ta.accommodation_id = a.accommodation_id
    WHERE ta.trip_id = ?), 0) +
    COALESCE((SELECT SUM(CASE
        WHEN tt.total_cost IS NOT NULL THEN tt.total_cost
        ELSE t.price * GREATEST(tt.number_of_passengers, 1)
    END) FROM trip_transport tt
    JOIN transport t ON tt.transport_id = t.transport_id
    WHERE tt.trip_id = ?), 0) +
    COALESCE((SELECT SUM(COALESCE(ts.estimated_cost, sd.entry_fee, 0))
    FROM trip_subdestinations ts
    JOIN sub_destinations sd ON ts.sub_destination_id = sd.sub_destination_id
    WHERE ts.trip_id = ?), 0) as total_cost
FROM trip_expenses te
WHERE te.trip_id = ?
]
2025-10-04T15:13:27.841+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-10-04T15:13:27.842+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:13:27.843+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT created_by FROM trips WHERE trip_id = ?]
ChatService: Sending message - Md. Huzaifa invited a new member to join Cox's Bazar Beach Adventure
2025-10-04T15:13:27.895+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2025-10-04T15:13:27.895+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2025-10-04T15:13:27.908+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:13:27.909+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT first_name, last_name, profile_picture_url FROM users WHERE user_id = ?]
ChatService: Message saved with ID 36
ChatService: Calling Socket.IO service to broadcast to trip 15
ChatService: Socket.IO broadcast call completed
2025-10-04T15:13:27.922+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-10-04T15:13:27.925+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2025-10-04T15:13:27.925+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2025-10-04T15:13:27.928+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:13:27.928+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@237245941 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:13:27.930+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@237245941 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:14:31.952+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.inviteUserToTrip]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:14:31.952+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@64327327 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:14:31.952+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@64327327 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:14:31.953+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:14:31.953+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT tm.*,
       u.first_name as user_first_name,
       u.last_name as user_last_name,
       u.email as user_email,
       u.profile_picture_url as user_profile_picture,
       inv.first_name as inviter_first_name,
       inv.last_name as inviter_last_name
FROM trip_members tm
LEFT JOIN users u ON tm.user_id = u.user_id
LEFT JOIN users inv ON tm.invited_by = inv.user_id
WHERE tm.trip_id = ?
ORDER BY tm.invited_at
]
2025-10-04T15:14:31.957+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2025-10-04T15:14:31.958+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2025-10-04T15:14:31.963+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:14:31.963+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT t.*,
       d.destination_name as destination_name,
       u.first_name as creator_first_name,
       u.last_name as creator_last_name
FROM trips t
LEFT JOIN destinations d ON t.destination_id = d.destination_id
LEFT JOIN users u ON t.creator_user_id = u.user_id
WHERE t.trip_id = ?
]
2025-10-04T15:14:31.966+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:14:31.967+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT tm.*,
       u.first_name as user_first_name,
       u.last_name as user_last_name,
       u.email as user_email,
       u.profile_picture_url as user_profile_picture,
       inv.first_name as inviter_first_name,
       inv.last_name as inviter_last_name
FROM trip_members tm
LEFT JOIN users u ON tm.user_id = u.user_id
LEFT JOIN users inv ON tm.invited_by = inv.user_id
WHERE tm.trip_id = ?
ORDER BY tm.invited_at
]
2025-10-04T15:14:31.969+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:14:31.970+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT sd.*, ts.estimated_cost, ts.status, ts.notes, d.destination_name
FROM trip_subdestinations ts
JOIN sub_destinations sd ON ts.sub_destination_id = sd.sub_destination_id
JOIN destinations d ON sd.destination_id = d.destination_id
WHERE ts.trip_id = ?
ORDER BY sd.sub_destination_name
]
2025-10-04T15:14:31.973+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:14:31.973+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT a.*, ta.check_in_date, ta.check_out_date, ta.number_of_rooms,
       ta.room_type, ta.total_cost, ta.booking_status, ta.booking_reference,
       ta.special_requests, d.destination_name
FROM trip_accommodations ta
JOIN accommodations a ON ta.accommodation_id = a.accommodation_id
JOIN destinations d ON a.destination_id = d.destination_id
WHERE ta.trip_id = ?
ORDER BY a.accommodation_name
]
2025-10-04T15:14:31.979+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:14:31.980+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT t.*, tt.journey_type, tt.travel_date, tt.departure_time as trip_departure_time,
       tt.arrival_time as trip_arrival_time, tt.number_of_passengers, tt.seat_preference,
       tt.total_cost, tt.booking_status, tt.booking_reference, d.destination_name
FROM trip_transport tt
JOIN transport t ON tt.transport_id = t.transport_id
JOIN destinations d ON t.destination_id = d.destination_id
WHERE tt.trip_id = ?
ORDER BY t.transport_type, t.operator_name
]
2025-10-04T15:14:31.986+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:14:31.986+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM trip_expenses
WHERE trip_id = ?
ORDER BY expense_date DESC, created_at DESC
]
2025-10-04T15:14:31.988+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:14:31.988+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT COUNT(*) FROM trip_members WHERE trip_id = ?]
2025-10-04T15:14:31.992+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:14:31.992+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT
    COALESCE(SUM(te.amount), 0) +
    COALESCE((SELECT SUM(CASE
        WHEN ta.total_cost IS NOT NULL THEN ta.total_cost
        ELSE a.price_per_night * GREATEST(ta.number_of_rooms, 1) * 7
    END) FROM trip_accommodations ta
    JOIN accommodations a ON ta.accommodation_id = a.accommodation_id
    WHERE ta.trip_id = ?), 0) +
    COALESCE((SELECT SUM(CASE
        WHEN tt.total_cost IS NOT NULL THEN tt.total_cost
        ELSE t.price * GREATEST(tt.number_of_passengers, 1)
    END) FROM trip_transport tt
    JOIN transport t ON tt.transport_id = t.transport_id
    WHERE tt.trip_id = ?), 0) +
    COALESCE((SELECT SUM(COALESCE(ts.estimated_cost, sd.entry_fee, 0))
    FROM trip_subdestinations ts
    JOIN sub_destinations sd ON ts.sub_destination_id = sd.sub_destination_id
    WHERE ts.trip_id = ?), 0) as total_cost
FROM trip_expenses te
WHERE te.trip_id = ?
]
2025-10-04T15:14:31.998+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-10-04T15:14:31.999+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:14:31.999+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT created_by FROM trips WHERE trip_id = ?]
ChatService: Sending message - Md. Huzaifa invited a new member to join Cox's Bazar Beach Adventure
2025-10-04T15:14:32.001+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2025-10-04T15:14:32.002+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2025-10-04T15:14:32.005+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:14:32.006+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT first_name, last_name, profile_picture_url FROM users WHERE user_id = ?]
ChatService: Message saved with ID 37
ChatService: Calling Socket.IO service to broadcast to trip 15
ChatService: Socket.IO broadcast call completed
2025-10-04T15:14:32.010+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-10-04T15:14:32.011+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2025-10-04T15:14:32.011+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2025-10-04T15:14:32.019+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:14:32.019+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@64327327 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:14:32.022+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@64327327 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:15:12.631+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:15:12.632+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:15:12.632+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:15:15.607+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.getUserTrips]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:15:15.609+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1255377445 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:15:15.609+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1255377445 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:15:15.610+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:15:15.611+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT DISTINCT t.* FROM trips t
INNER JOIN trip_members tm ON t.trip_id = tm.trip_id
WHERE tm.user_id = ? AND tm.invitation_status = 'ACCEPTED'
ORDER BY t.created_at DESC
]
2025-10-04T15:15:15.615+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:15:15.616+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1255377445 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:15:15.617+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1255377445 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:15:17.209+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.DestinationService.getAllDestinations]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:15:17.210+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1592064447 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:15:17.211+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1592064447 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:15:17.216+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:15:17.217+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM destinations WHERE 1=1 ORDER BY destination_name LIMIT ? OFFSET ?]
2025-10-04T15:15:17.226+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:15:17.226+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1592064447 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:15:17.227+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1592064447 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:15:20.437+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.DestinationService.getTransports]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:15:20.437+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.DestinationService.getAccommodations]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:15:20.437+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.DestinationService.getSubDestinations]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:15:20.439+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@296801043 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] for JDBC transaction
2025-10-04T15:15:20.440+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1997451198 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] for JDBC transaction
2025-10-04T15:15:20.440+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@296801043 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] to manual commit
2025-10-04T15:15:20.440+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@9161295 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:15:20.440+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1997451198 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] to manual commit
2025-10-04T15:15:20.440+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@9161295 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:15:20.442+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:15:20.442+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM accommodations WHERE destination_id = ? ORDER BY accommodation_name]
2025-10-04T15:15:20.442+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:15:20.443+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:15:20.443+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM sub_destinations WHERE destination_id = ? ORDER BY sub_destination_name]
2025-10-04T15:15:20.443+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM transport WHERE destination_id = ? ORDER BY transport_type, operator_name]
2025-10-04T15:15:20.453+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:15:20.453+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:15:20.454+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@9161295 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:15:20.454+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@296801043 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e]
2025-10-04T15:15:20.456+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:15:20.456+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1997451198 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f]
2025-10-04T15:15:20.457+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@296801043 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] after transaction
2025-10-04T15:15:20.457+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@9161295 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:15:20.458+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1997451198 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] after transaction
2025-10-04T15:15:41.089+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:15:41.090+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:15:41.091+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:15:41.165+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:15:41.166+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:15:41.166+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:15:41.218+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.DestinationService.getAllDestinations]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:15:41.219+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@2026522350 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:15:41.220+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@2026522350 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:15:41.222+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:15:41.223+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM destinations WHERE 1=1 ORDER BY destination_name LIMIT ? OFFSET ?]
2025-10-04T15:15:41.231+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:15:41.232+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@2026522350 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:15:41.236+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@2026522350 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:15:44.340+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.DestinationService.getSubDestinations]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:15:44.340+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.DestinationService.getTransports]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:15:44.340+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.DestinationService.getAccommodations]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:15:44.342+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@449676914 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] for JDBC transaction
2025-10-04T15:15:44.342+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1598114431 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] for JDBC transaction
2025-10-04T15:15:44.342+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@449676914 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] to manual commit
2025-10-04T15:15:44.342+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@2036981706 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:15:44.343+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1598114431 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] to manual commit
2025-10-04T15:15:44.343+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@2036981706 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:15:44.343+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:15:44.344+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM accommodations WHERE destination_id = ? ORDER BY accommodation_name]
2025-10-04T15:15:44.344+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:15:44.344+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:15:44.344+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM transport WHERE destination_id = ? ORDER BY transport_type, operator_name]
2025-10-04T15:15:44.344+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM sub_destinations WHERE destination_id = ? ORDER BY sub_destination_name]
2025-10-04T15:15:44.351+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:15:44.351+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:15:44.351+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:15:44.351+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1598114431 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e]
2025-10-04T15:15:44.352+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@2036981706 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:15:44.352+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@449676914 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f]
2025-10-04T15:15:44.353+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1598114431 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] after transaction
2025-10-04T15:15:44.353+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@2036981706 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:15:44.354+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@449676914 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] after transaction
2025-10-04T15:15:45.405+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.DestinationService.getSubDestinations]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:15:45.407+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@367543723 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] for JDBC transaction
2025-10-04T15:15:45.408+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@367543723 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] to manual commit
2025-10-04T15:15:45.409+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:15:45.410+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM sub_destinations WHERE destination_id = ? ORDER BY sub_destination_name]
2025-10-04T15:15:45.416+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.DestinationService.getAccommodations]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:15:45.416+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.DestinationService.getTransports]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:15:45.418+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1982880509 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:15:45.418+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@978349729 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] for JDBC transaction
2025-10-04T15:15:45.418+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:15:45.418+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1982880509 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:15:45.419+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@978349729 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] to manual commit
2025-10-04T15:15:45.419+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@367543723 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f]
2025-10-04T15:15:45.420+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:15:45.420+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:15:45.420+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM accommodations WHERE destination_id = ? ORDER BY accommodation_name]
2025-10-04T15:15:45.421+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM transport WHERE destination_id = ? ORDER BY transport_type, operator_name]
2025-10-04T15:15:45.421+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@367543723 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] after transaction
2025-10-04T15:15:45.426+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:15:45.426+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:15:45.427+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@978349729 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e]
2025-10-04T15:15:45.427+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1982880509 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:15:45.430+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1982880509 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:15:45.430+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@978349729 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] after transaction
2025-10-04T15:16:50.868+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:16:50.872+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:16:50.874+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:16:50.985+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:16:50.987+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:16:50.987+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:17:02.790+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:02.790+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:17:02.790+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:17:02.817+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:02.818+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:17:02.818+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:17:05.959+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.getUserTrips]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:17:05.961+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1959745471 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] for JDBC transaction
2025-10-04T15:17:05.961+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1959745471 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] to manual commit
2025-10-04T15:17:05.965+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:05.966+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT DISTINCT t.* FROM trips t
INNER JOIN trip_members tm ON t.trip_id = tm.trip_id
WHERE tm.user_id = ? AND tm.invitation_status = 'ACCEPTED'
ORDER BY t.created_at DESC
]
2025-10-04T15:17:05.986+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:17:05.986+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1959745471 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f]
2025-10-04T15:17:05.991+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1959745471 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] after transaction
2025-10-04T15:17:07.995+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.DestinationService.getAllDestinations]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:17:07.996+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@511440350 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:17:07.997+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@511440350 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:17:07.998+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:07.998+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM destinations WHERE 1=1 ORDER BY destination_name LIMIT ? OFFSET ?]
2025-10-04T15:17:08.001+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:17:08.002+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@511440350 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:17:08.003+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@511440350 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:17:11.282+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.DestinationService.getAccommodations]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:17:11.282+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.DestinationService.getSubDestinations]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:17:11.282+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.DestinationService.getTransports]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:17:11.284+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@511573053 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] for JDBC transaction
2025-10-04T15:17:11.284+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@465124949 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:17:11.284+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1324846729 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] for JDBC transaction
2025-10-04T15:17:11.284+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@511573053 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] to manual commit
2025-10-04T15:17:11.284+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@465124949 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:17:11.284+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1324846729 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] to manual commit
2025-10-04T15:17:11.285+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:11.285+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:11.286+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM accommodations WHERE destination_id = ? ORDER BY accommodation_name]
2025-10-04T15:17:11.286+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM sub_destinations WHERE destination_id = ? ORDER BY sub_destination_name]
2025-10-04T15:17:11.286+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:11.286+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM transport WHERE destination_id = ? ORDER BY transport_type, operator_name]
2025-10-04T15:17:11.291+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:17:11.291+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:17:11.292+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:17:11.292+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1324846729 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e]
2025-10-04T15:17:11.292+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@465124949 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:17:11.292+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@511573053 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f]
2025-10-04T15:17:11.295+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1324846729 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] after transaction
2025-10-04T15:17:11.295+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@465124949 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:17:11.295+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@511573053 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] after transaction
2025-10-04T15:17:48.187+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:48.187+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users
WHERE is_deleted = FALSE
AND (username LIKE ? OR email LIKE ? OR first_name LIKE ? OR last_name LIKE ?)
ORDER BY username
]
2025-10-04T15:17:48.187+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:17:48.366+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:48.366+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users
WHERE is_deleted = FALSE
AND (username LIKE ? OR email LIKE ? OR first_name LIKE ? OR last_name LIKE ?)
ORDER BY username
]
2025-10-04T15:17:48.366+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:17:48.507+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:48.508+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users
WHERE is_deleted = FALSE
AND (username LIKE ? OR email LIKE ? OR first_name LIKE ? OR last_name LIKE ?)
ORDER BY username
]
2025-10-04T15:17:48.508+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:17:48.654+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:48.654+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users
WHERE is_deleted = FALSE
AND (username LIKE ? OR email LIKE ? OR first_name LIKE ? OR last_name LIKE ?)
ORDER BY username
]
2025-10-04T15:17:48.654+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:17:48.704+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:48.704+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users
WHERE is_deleted = FALSE
AND (username LIKE ? OR email LIKE ? OR first_name LIKE ? OR last_name LIKE ?)
ORDER BY username
]
2025-10-04T15:17:48.704+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:17:54.176+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.createTrip]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:17:54.179+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@992951576 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:17:54.180+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@992951576 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:17:54.182+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2025-10-04T15:17:54.182+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2025-10-04T15:17:54.205+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-10-04T15:17:54.206+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT INTO trip_members (trip_id, user_id, member_role, invitation_status, invited_at)
VALUES (?, ?, ?, ?, ?)
]
2025-10-04T15:17:54.218+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-10-04T15:17:54.219+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.219+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT created_by FROM trips WHERE trip_id = ?]
ChatService: Sending message - Welcome to testing notification! Start planning your adventure together.
2025-10-04T15:17:54.226+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2025-10-04T15:17:54.226+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2025-10-04T15:17:54.234+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.235+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT first_name, last_name, profile_picture_url FROM users WHERE user_id = ?]
ChatService: Message saved with ID 38
ChatService: Calling Socket.IO service to broadcast to trip 17
ChatService: Socket.IO broadcast call completed
2025-10-04T15:17:54.239+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:17:54.240+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@992951576 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:17:54.246+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@992951576 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:17:54.309+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.addSubDestinationsToTrip]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:17:54.312+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@909270383 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] for JDBC transaction
2025-10-04T15:17:54.313+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@909270383 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] to manual commit
2025-10-04T15:17:54.317+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.318+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT tm.*,
       u.first_name as user_first_name,
       u.last_name as user_last_name,
       u.email as user_email,
       u.profile_picture_url as user_profile_picture,
       inv.first_name as inviter_first_name,
       inv.last_name as inviter_last_name
FROM trip_members tm
LEFT JOIN users u ON tm.user_id = u.user_id
LEFT JOIN users inv ON tm.invited_by = inv.user_id
WHERE tm.trip_id = ?
ORDER BY tm.invited_at
]
2025-10-04T15:17:54.331+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-10-04T15:17:54.332+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT IGNORE INTO trip_subdestinations (trip_id, sub_destination_id, status, created_at) VALUES (?, ?, 'PLANNED', NOW())]
2025-10-04T15:17:54.341+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:17:54.341+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@909270383 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e]
2025-10-04T15:17:54.344+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@909270383 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] after transaction
2025-10-04T15:17:54.399+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.addAccommodationsToTrip]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:17:54.399+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1132677607 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] for JDBC transaction
2025-10-04T15:17:54.399+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1132677607 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] to manual commit
2025-10-04T15:17:54.400+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.400+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT tm.*,
       u.first_name as user_first_name,
       u.last_name as user_last_name,
       u.email as user_email,
       u.profile_picture_url as user_profile_picture,
       inv.first_name as inviter_first_name,
       inv.last_name as inviter_last_name
FROM trip_members tm
LEFT JOIN users u ON tm.user_id = u.user_id
LEFT JOIN users inv ON tm.invited_by = inv.user_id
WHERE tm.trip_id = ?
ORDER BY tm.invited_at
]
2025-10-04T15:17:54.406+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-10-04T15:17:54.407+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT IGNORE INTO trip_accommodations (trip_id, accommodation_id, booking_status, created_at, updated_at) VALUES (?, ?, 'PLANNED', NOW(), NOW())]
2025-10-04T15:17:54.412+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:17:54.412+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1132677607 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f]
2025-10-04T15:17:54.415+06:00 DEBUG 64537 --- [nio-8080-exec-6] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1132677607 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] after transaction
2025-10-04T15:17:54.467+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.addTransportsToTrip]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:17:54.468+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1497487682 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] for JDBC transaction
2025-10-04T15:17:54.468+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1497487682 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] to manual commit
2025-10-04T15:17:54.469+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.469+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT tm.*,
       u.first_name as user_first_name,
       u.last_name as user_last_name,
       u.email as user_email,
       u.profile_picture_url as user_profile_picture,
       inv.first_name as inviter_first_name,
       inv.last_name as inviter_last_name
FROM trip_members tm
LEFT JOIN users u ON tm.user_id = u.user_id
LEFT JOIN users inv ON tm.invited_by = inv.user_id
WHERE tm.trip_id = ?
ORDER BY tm.invited_at
]
2025-10-04T15:17:54.476+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL update
2025-10-04T15:17:54.476+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [INSERT IGNORE INTO trip_transport (trip_id, transport_id, booking_status, created_at, updated_at) VALUES (?, ?, 'PLANNED', NOW(), NOW())]
2025-10-04T15:17:54.480+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:17:54.481+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1497487682 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e]
2025-10-04T15:17:54.483+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1497487682 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] after transaction
2025-10-04T15:17:54.513+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.inviteUserToTrip]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:17:54.514+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1616988588 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:17:54.514+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1616988588 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:17:54.515+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.515+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT tm.*,
       u.first_name as user_first_name,
       u.last_name as user_last_name,
       u.email as user_email,
       u.profile_picture_url as user_profile_picture,
       inv.first_name as inviter_first_name,
       inv.last_name as inviter_last_name
FROM trip_members tm
LEFT JOIN users u ON tm.user_id = u.user_id
LEFT JOIN users inv ON tm.invited_by = inv.user_id
WHERE tm.trip_id = ?
ORDER BY tm.invited_at
]
2025-10-04T15:17:54.519+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2025-10-04T15:17:54.519+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2025-10-04T15:17:54.526+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.526+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT t.*,
       d.destination_name as destination_name,
       u.first_name as creator_first_name,
       u.last_name as creator_last_name
FROM trips t
LEFT JOIN destinations d ON t.destination_id = d.destination_id
LEFT JOIN users u ON t.creator_user_id = u.user_id
WHERE t.trip_id = ?
]
2025-10-04T15:17:54.530+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.530+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT tm.*,
       u.first_name as user_first_name,
       u.last_name as user_last_name,
       u.email as user_email,
       u.profile_picture_url as user_profile_picture,
       inv.first_name as inviter_first_name,
       inv.last_name as inviter_last_name
FROM trip_members tm
LEFT JOIN users u ON tm.user_id = u.user_id
LEFT JOIN users inv ON tm.invited_by = inv.user_id
WHERE tm.trip_id = ?
ORDER BY tm.invited_at
]
2025-10-04T15:17:54.532+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.532+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT sd.*, ts.estimated_cost, ts.status, ts.notes, d.destination_name
FROM trip_subdestinations ts
JOIN sub_destinations sd ON ts.sub_destination_id = sd.sub_destination_id
JOIN destinations d ON sd.destination_id = d.destination_id
WHERE ts.trip_id = ?
ORDER BY sd.sub_destination_name
]
2025-10-04T15:17:54.539+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.539+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT a.*, ta.check_in_date, ta.check_out_date, ta.number_of_rooms,
       ta.room_type, ta.total_cost, ta.booking_status, ta.booking_reference,
       ta.special_requests, d.destination_name
FROM trip_accommodations ta
JOIN accommodations a ON ta.accommodation_id = a.accommodation_id
JOIN destinations d ON a.destination_id = d.destination_id
WHERE ta.trip_id = ?
ORDER BY a.accommodation_name
]
2025-10-04T15:17:54.545+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.545+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT t.*, tt.journey_type, tt.travel_date, tt.departure_time as trip_departure_time,
       tt.arrival_time as trip_arrival_time, tt.number_of_passengers, tt.seat_preference,
       tt.total_cost, tt.booking_status, tt.booking_reference, d.destination_name
FROM trip_transport tt
JOIN transport t ON tt.transport_id = t.transport_id
JOIN destinations d ON t.destination_id = d.destination_id
WHERE tt.trip_id = ?
ORDER BY t.transport_type, t.operator_name
]
2025-10-04T15:17:54.548+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.549+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM trip_expenses
WHERE trip_id = ?
ORDER BY expense_date DESC, created_at DESC
]
2025-10-04T15:17:54.552+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.553+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT COUNT(*) FROM trip_members WHERE trip_id = ?]
2025-10-04T15:17:54.555+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.555+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT
    COALESCE(SUM(te.amount), 0) +
    COALESCE((SELECT SUM(CASE
        WHEN ta.total_cost IS NOT NULL THEN ta.total_cost
        ELSE a.price_per_night * GREATEST(ta.number_of_rooms, 1) * 7
    END) FROM trip_accommodations ta
    JOIN accommodations a ON ta.accommodation_id = a.accommodation_id
    WHERE ta.trip_id = ?), 0) +
    COALESCE((SELECT SUM(CASE
        WHEN tt.total_cost IS NOT NULL THEN tt.total_cost
        ELSE t.price * GREATEST(tt.number_of_passengers, 1)
    END) FROM trip_transport tt
    JOIN transport t ON tt.transport_id = t.transport_id
    WHERE tt.trip_id = ?), 0) +
    COALESCE((SELECT SUM(COALESCE(ts.estimated_cost, sd.entry_fee, 0))
    FROM trip_subdestinations ts
    JOIN sub_destinations sd ON ts.sub_destination_id = sd.sub_destination_id
    WHERE ts.trip_id = ?), 0) as total_cost
FROM trip_expenses te
WHERE te.trip_id = ?
]
2025-10-04T15:17:54.560+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-10-04T15:17:54.560+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.561+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT created_by FROM trips WHERE trip_id = ?]
ChatService: Sending message - null invited a new member to join testing notification
2025-10-04T15:17:54.562+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2025-10-04T15:17:54.562+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2025-10-04T15:17:54.563+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.563+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT first_name, last_name, profile_picture_url FROM users WHERE user_id = ?]
ChatService: Message saved with ID 39
ChatService: Calling Socket.IO service to broadcast to trip 17
ChatService: Socket.IO broadcast call completed
2025-10-04T15:17:54.565+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Participating in existing transaction
2025-10-04T15:17:54.565+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing SQL update and returning generated keys
2025-10-04T15:17:54.565+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement
2025-10-04T15:17:54.572+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:17:54.573+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1616988588 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:17:54.577+06:00 DEBUG 64537 --- [nio-8080-exec-1] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1616988588 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:17:54.728+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.getTripMembers]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:17:54.728+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1160932731 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:17:54.728+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1160932731 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:17:54.729+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.729+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT tm.*,
       u.first_name as user_first_name,
       u.last_name as user_last_name,
       u.email as user_email,
       u.profile_picture_url as user_profile_picture,
       inv.first_name as inviter_first_name,
       inv.last_name as inviter_last_name
FROM trip_members tm
LEFT JOIN users u ON tm.user_id = u.user_id
LEFT JOIN users inv ON tm.invited_by = inv.user_id
WHERE tm.trip_id = ?
ORDER BY tm.invited_at
]
2025-10-04T15:17:54.731+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.isUserTripMember]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:17:54.731+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@956269703 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] for JDBC transaction
2025-10-04T15:17:54.731+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@956269703 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] to manual commit
2025-10-04T15:17:54.732+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:17:54.732+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1160932731 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:17:54.732+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1160932731 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:17:54.733+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.733+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT tm.*,
       u.first_name as user_first_name,
       u.last_name as user_last_name,
       u.email as user_email,
       u.profile_picture_url as user_profile_picture,
       inv.first_name as inviter_first_name,
       inv.last_name as inviter_last_name
FROM trip_members tm
LEFT JOIN users u ON tm.user_id = u.user_id
LEFT JOIN users inv ON tm.invited_by = inv.user_id
WHERE tm.trip_id = ?
ORDER BY tm.invited_at
]
2025-10-04T15:17:54.737+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:17:54.737+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@956269703 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e]
2025-10-04T15:17:54.738+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@956269703 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] after transaction
2025-10-04T15:17:54.740+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.getTripById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:17:54.740+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@849897601 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] for JDBC transaction
2025-10-04T15:17:54.740+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@849897601 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] to manual commit
2025-10-04T15:17:54.742+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.742+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT t.*,
       d.destination_name as destination_name,
       u.first_name as creator_first_name,
       u.last_name as creator_last_name
FROM trips t
LEFT JOIN destinations d ON t.destination_id = d.destination_id
LEFT JOIN users u ON t.creator_user_id = u.user_id
WHERE t.trip_id = ?
]
2025-10-04T15:17:54.746+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.747+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT tm.*,
       u.first_name as user_first_name,
       u.last_name as user_last_name,
       u.email as user_email,
       u.profile_picture_url as user_profile_picture,
       inv.first_name as inviter_first_name,
       inv.last_name as inviter_last_name
FROM trip_members tm
LEFT JOIN users u ON tm.user_id = u.user_id
LEFT JOIN users inv ON tm.invited_by = inv.user_id
WHERE tm.trip_id = ?
ORDER BY tm.invited_at
]
2025-10-04T15:17:54.748+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.748+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT sd.*, ts.estimated_cost, ts.status, ts.notes, d.destination_name
FROM trip_subdestinations ts
JOIN sub_destinations sd ON ts.sub_destination_id = sd.sub_destination_id
JOIN destinations d ON sd.destination_id = d.destination_id
WHERE ts.trip_id = ?
ORDER BY sd.sub_destination_name
]
2025-10-04T15:17:54.750+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.750+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT a.*, ta.check_in_date, ta.check_out_date, ta.number_of_rooms,
       ta.room_type, ta.total_cost, ta.booking_status, ta.booking_reference,
       ta.special_requests, d.destination_name
FROM trip_accommodations ta
JOIN accommodations a ON ta.accommodation_id = a.accommodation_id
JOIN destinations d ON a.destination_id = d.destination_id
WHERE ta.trip_id = ?
ORDER BY a.accommodation_name
]
2025-10-04T15:17:54.753+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.753+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT t.*, tt.journey_type, tt.travel_date, tt.departure_time as trip_departure_time,
       tt.arrival_time as trip_arrival_time, tt.number_of_passengers, tt.seat_preference,
       tt.total_cost, tt.booking_status, tt.booking_reference, d.destination_name
FROM trip_transport tt
JOIN transport t ON tt.transport_id = t.transport_id
JOIN destinations d ON t.destination_id = d.destination_id
WHERE tt.trip_id = ?
ORDER BY t.transport_type, t.operator_name
]
2025-10-04T15:17:54.757+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.758+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM trip_expenses
WHERE trip_id = ?
ORDER BY expense_date DESC, created_at DESC
]
2025-10-04T15:17:54.760+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.760+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT COUNT(*) FROM trip_members WHERE trip_id = ?]
2025-10-04T15:17:54.761+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:17:54.761+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT
    COALESCE(SUM(te.amount), 0) +
    COALESCE((SELECT SUM(CASE
        WHEN ta.total_cost IS NOT NULL THEN ta.total_cost
        ELSE a.price_per_night * GREATEST(ta.number_of_rooms, 1) * 7
    END) FROM trip_accommodations ta
    JOIN accommodations a ON ta.accommodation_id = a.accommodation_id
    WHERE ta.trip_id = ?), 0) +
    COALESCE((SELECT SUM(CASE
        WHEN tt.total_cost IS NOT NULL THEN tt.total_cost
        ELSE t.price * GREATEST(tt.number_of_passengers, 1)
    END) FROM trip_transport tt
    JOIN transport t ON tt.transport_id = t.transport_id
    WHERE tt.trip_id = ?), 0) +
    COALESCE((SELECT SUM(COALESCE(ts.estimated_cost, sd.entry_fee, 0))
    FROM trip_subdestinations ts
    JOIN sub_destinations sd ON ts.sub_destination_id = sd.sub_destination_id
    WHERE ts.trip_id = ?), 0) as total_cost
FROM trip_expenses te
WHERE te.trip_id = ?
]
2025-10-04T15:17:54.763+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:17:54.763+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@849897601 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e]
2025-10-04T15:17:54.764+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@849897601 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] after transaction
2025-10-04T15:18:13.641+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:18:13.642+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE email = ? AND is_deleted = FALSE]
2025-10-04T15:18:13.642+06:00 DEBUG 64537 --- [nio-8080-exec-7] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:18:14.005+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.isUserTripMember]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:18:14.006+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.getTripMembers]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:18:14.007+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@121661011 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] for JDBC transaction
2025-10-04T15:18:14.007+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@775230078 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] for JDBC transaction
2025-10-04T15:18:14.007+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@121661011 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] to manual commit
2025-10-04T15:18:14.007+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@775230078 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] to manual commit
2025-10-04T15:18:14.009+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:18:14.009+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:18:14.009+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT tm.*,
       u.first_name as user_first_name,
       u.last_name as user_last_name,
       u.email as user_email,
       u.profile_picture_url as user_profile_picture,
       inv.first_name as inviter_first_name,
       inv.last_name as inviter_last_name
FROM trip_members tm
LEFT JOIN users u ON tm.user_id = u.user_id
LEFT JOIN users inv ON tm.invited_by = inv.user_id
WHERE tm.trip_id = ?
ORDER BY tm.invited_at
]
2025-10-04T15:18:14.009+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT tm.*,
       u.first_name as user_first_name,
       u.last_name as user_last_name,
       u.email as user_email,
       u.profile_picture_url as user_profile_picture,
       inv.first_name as inviter_first_name,
       inv.last_name as inviter_last_name
FROM trip_members tm
LEFT JOIN users u ON tm.user_id = u.user_id
LEFT JOIN users inv ON tm.invited_by = inv.user_id
WHERE tm.trip_id = ?
ORDER BY tm.invited_at
]
2025-10-04T15:18:14.016+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:18:14.016+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:18:14.016+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@121661011 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e]
2025-10-04T15:18:14.016+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@775230078 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f]
2025-10-04T15:18:14.018+06:00 DEBUG 64537 --- [io-8080-exec-10] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@775230078 wrapping com.mysql.cj.jdbc.ConnectionImpl@2ca0368f] after transaction
2025-10-04T15:18:14.019+06:00 DEBUG 64537 --- [nio-8080-exec-8] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@121661011 wrapping com.mysql.cj.jdbc.ConnectionImpl@5884700e] after transaction
2025-10-04T15:18:15.069+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.isUserTripMember]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:18:15.070+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@305095011 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:18:15.070+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@305095011 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:18:15.072+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:18:15.072+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT tm.*,
       u.first_name as user_first_name,
       u.last_name as user_last_name,
       u.email as user_email,
       u.profile_picture_url as user_profile_picture,
       inv.first_name as inviter_first_name,
       inv.last_name as inviter_last_name
FROM trip_members tm
LEFT JOIN users u ON tm.user_id = u.user_id
LEFT JOIN users inv ON tm.invited_by = inv.user_id
WHERE tm.trip_id = ?
ORDER BY tm.invited_at
]
2025-10-04T15:18:15.077+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:18:15.078+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@305095011 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:18:15.079+06:00 DEBUG 64537 --- [nio-8080-exec-3] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@305095011 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:18:19.332+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.TripService.getUserTrips]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:18:19.333+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@666665015 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:18:19.334+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@666665015 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:18:19.334+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:18:19.334+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT DISTINCT t.* FROM trips t
INNER JOIN trip_members tm ON t.trip_id = tm.trip_id
WHERE tm.user_id = ? AND tm.invitation_status = 'ACCEPTED'
ORDER BY t.created_at DESC
]
2025-10-04T15:18:19.337+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:18:19.337+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@666665015 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:18:19.337+06:00 DEBUG 64537 --- [nio-8080-exec-9] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@666665015 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:18:23.845+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Creating new transaction with name [com.porikroma.service.NotificationService.getUserNotifications]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-10-04T15:18:23.847+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Acquired Connection [HikariProxyConnection@1394487147 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] for JDBC transaction
2025-10-04T15:18:23.847+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Switching JDBC Connection [HikariProxyConnection@1394487147 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] to manual commit
2025-10-04T15:18:23.848+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:18:23.849+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM user_notifications WHERE user_id = ? ORDER BY created_at DESC]
2025-10-04T15:18:23.853+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Initiating transaction commit
2025-10-04T15:18:23.854+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Committing JDBC transaction on Connection [HikariProxyConnection@1394487147 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81]
2025-10-04T15:18:23.856+06:00 DEBUG 64537 --- [nio-8080-exec-2] o.s.jdbc.support.JdbcTransactionManager  : Releasing JDBC Connection [HikariProxyConnection@1394487147 wrapping com.mysql.cj.jdbc.ConnectionImpl@53fd9f81] after transaction
2025-10-04T15:18:26.565+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:18:26.565+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:18:26.565+06:00 DEBUG 64537 --- [nio-8080-exec-4] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
2025-10-04T15:18:26.586+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query
2025-10-04T15:18:26.587+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL statement [SELECT * FROM users WHERE user_id = ? AND is_deleted = FALSE]
2025-10-04T15:18:26.587+06:00 DEBUG 64537 --- [nio-8080-exec-5] o.s.jdbc.datasource.DataSourceUtils      : Fetching JDBC Connection from DataSource
